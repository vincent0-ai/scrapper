{
  "schemaVersion": 1,
  "templateId": "python-flask",
  "variables": [
    {
      "id": "MONGO_URI",
      "label": "MongoDB Connection String",
      "defaultValue": "mongodb://caprover-mongodb:27017/",
      "validRegex": "mongodb(\\+srv)?://.*",
      "description": "MongoDB connection string. For CapRover, use mongodb://caprover-mongodb:27017/ by default.",
      "type": "string"
    },
    {
      "id": "DB_NAME",
      "label": "MongoDB Database Name",
      "defaultValue": "scrapper_db",
      "description": "Name of the MongoDB database to use.",
      "type": "string"
    },
    {
      "id": "FLARE_URL",
      "label": "FlareSolverr URL",
      "defaultValue": "http://flaresolverr:8191/v1",
      "description": "URL for FlareSolverr service. If running on CapRover, use http://flaresolverr:8191/v1",
      "type": "string"
    }
  ],
  "dockerfileLines": [
    "FROM python:3.9-slim-buster",
    "WORKDIR /app",
    "COPY requirements.txt .",
    "RUN pip install --no-cache-dir -r requirements.txt",
    "COPY . .",
    "ENV FLASK_APP=app.py",
    "EXPOSE 8000",
    "CMD exec gunicorn --bind :8000 --workers 1 --threads 8 app:app"
  ]
}